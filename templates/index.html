<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ë–∏—Ä–∂–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ Lara</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<header>
    <h1>–ë–∏—Ä–∂–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ Lara</h1>
    <h2>–û–Ω–ª–∞–π–Ω-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ—Ü–µ–Ω–∫–∏</h2>
    <p><em>–†–∞—Å—á—ë—Ç –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —É—Å—Ä–µ–¥–Ω—ë–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å 999.md –ø–æ —Å–µ–∫—Ç–æ—Ä–∞–º –ö–∏—à–∏–Ω—ë–≤–∞</em></p>
</header>

<main>
    <form method="POST" action="/">
        <div class="form-group">
            <label>–ß—Ç–æ –æ—Ü–µ–Ω–∏–≤–∞–µ–º:</label>
            <select name="category" id="category" onchange="showForm()" required>
                <option value="">‚Äî –í—ã–±–µ—Ä–∏—Ç–µ ‚Äî</option>
                <option value="apartment">–ö–≤–∞—Ä—Ç–∏—Ä–∞</option>
                <option value="land">–ó–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫</option>
                <option value="commercial">–ù–µ–∂–∏–ª–∞—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</option>
            </select>
        </div>

        <!-- üè† –ö–≤–∞—Ä—Ç–∏—Ä–∞ -->
        <div id="apartment-form" class="form-section" style="display:none;">
            <div class="form-group">
                <label>–†–∞–π–æ–Ω:</label>
                <select name="district" required>
                    <option value="Centru">Centru</option>
                    <option value="Telecentru">Telecentru</option>
                    <option value="Ciocana">Ciocana</option>
                    <option value="Buiucani">Buiucani</option>
                    <option value="Posta Veche">Posta Veche</option>
                    <option value="Durle»ôti">Durle»ôti</option>
                    <option value="Botanica">Botanica</option>
                    <option value="Sculeni">Sculeni</option>
                    <option value="R√¢»ôcani">R√¢»ôcani</option>
                    <option value="Aeroport">Aeroport</option>
                </select>
            </div>
            <div class="form-group">
                <label>–ö–æ–º–Ω–∞—Ç:</label>
                <select name="rooms" required>
                    <option value="1">1</option><option value="2">2</option>
                    <option value="3">3</option><option value="4">4</option>
                    <option value="5">5+</option>
                </select>
            </div>
            <div class="form-group">
                <label>–ü–ª–æ—â–∞–¥—å (–º¬≤):</label>
                <input type="number" name="area" step="0.1" min="10" max="500" required>
            </div>
            <div class="form-group">
                <label>–†–µ–º–æ–Ω—Ç:</label>
                <select name="repair" required>
                    <option value="VariantƒÉ surƒÉ">VariantƒÉ surƒÉ</option>
                    <option value="VariantƒÉ albƒÉ">VariantƒÉ albƒÉ</option>
                    <option value="Repara»õie cosmeticƒÉ">Repara»õie cosmeticƒÉ</option>
                    <option value="Eurorepara»õie">Eurorepara»õie</option>
                </select>
            </div>
            <div class="form-group">
                <label>–¢–∏–ø –∑–¥–∞–Ω–∏—è:</label>
                <select name="building" required>
                    <option value="Monolit">Monolit</option>
                    <option value="CƒÉrƒÉmidƒÉ">CƒÉrƒÉmidƒÉ</option>
                    <option value="Beton">Beton</option>
                    <option value="Cotile»õ">Cotile»õ</option>
                    <option value="Beton celular">Beton celular</option>
                    <option value="Combinat">Combinat</option>
                    <option value="Bloc">Bloc</option>
                    <option value="Panou">Panou</option>
                    <option value="Lemn">Lemn</option>
                </select>
            </div>
        </div>

        <!-- üåç –ó–µ–º–ª—è -->
        <div id="land-form" class="form-section" style="display:none;">
            <div class="form-group">
                <label>–†–∞–π–æ–Ω:</label>
                <select name="land_district" required>
                    <option value="Centru">Centru</option><option value="Botanica">Botanica</option>
                    <option value="Buiucani">Buiucani</option><option value="R√¢»ôcani">R√¢»ôcani</option>
                    <option value="Telecentru">Telecentru</option><option value="Ciocana">Ciocana</option>
                    <option value="Posta Veche">Posta Veche</option><option value="Durle»ôti">Durle»ôti</option>
                    <option value="Aeroport">Aeroport</option><option value="Sculeni">Sculeni</option>
                </select>
            </div>
            <div class="form-group">
                <label>–ü–ª–æ—â–∞–¥—å —É—á–∞—Å—Ç–∫–∞ (—Å–æ—Ç–∫–∏):</label>
                <input type="number" name="land_area" step="0.1" min="1" max="1000" required>
            </div>
        </div>

        <!-- üè¨ –ö–æ–º–º–µ—Ä—Ü–∏—è -->
        <div id="commercial-form" class="form-section" style="display:none;">
            <div class="form-group">
                <label>–†–∞–π–æ–Ω:</label>
                <select name="district_com" required>
                    <option value="Centru">Centru</option><option value="Botanica">Botanica</option>
                    <option value="Buiucani">Buiucani</option><option value="R√¢»ôcani">R√¢»ôcani</option>
                    <option value="Ciocana">Ciocana</option><option value="Telecentru">Telecentru</option>
                    <option value="Posta Veche">Posta Veche</option><option value="Durle»ôti">Durle»ôti</option>
                    <option value="Aeroport">Aeroport</option><option value="Sculeni">Sculeni</option>
                </select>
            </div>
            <div class="form-group">
                <label>–¢–∏–ø –æ–±—ä–µ–∫—Ç–∞:</label>
                <select name="object_type" required>
                    <option value="office">–û—Ñ–∏—Å</option>
                    <option value="store">–ú–∞–≥–∞–∑–∏–Ω</option>
                    <option value="restaurant">–†–µ—Å—Ç–æ—Ä–∞–Ω</option>
                    <option value="warehouse">–°–∫–ª–∞–¥</option>
                    <option value="production">–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ</option>
                </select>
            </div>
            <div class="form-group">
                <label>–ü–ª–æ—â–∞–¥—å (–º¬≤):</label>
                <input type="number" name="object_area" step="0.1" min="10" max="10000" required>
            </div>
        </div>

        <button type="submit" class="calculate-btn">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å</button>
    </form>

    <!-- ===== –†–ï–ó–£–õ–¨–¢–ê–¢ ===== -->
    <section class="result">
        {% if result %}
            <h3>‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ü–µ–Ω–∫–∏</h3>
            <p><strong>–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: {{ result.total_price }} ‚Ç¨</strong></p>

            {% if result.category == "apartment" %}
                <ul>
                    <li>–†–∞–π–æ–Ω: {{ result.district }}</li>
                    <li>–ö–æ–º–Ω–∞—Ç: {{ result.rooms }}</li>
                    <li>–ü–ª–æ—â–∞–¥—å: {{ result.area }} –º¬≤</li>
                    <li>–†–µ–º–æ–Ω—Ç: {{ result.repair }}</li>
                    <li>–ó–¥–∞–Ω–∏–µ: {{ result.building }}</li>
                    <li>–¶–µ–Ω–∞ –∑–∞ –º¬≤: {{ result.price_per_m2 }} ‚Ç¨</li>
                </ul>
            {% elif result.category == "land" %}
                <ul>
                    <li>–†–∞–π–æ–Ω: {{ result.district }}</li>
                    <li>–ü–ª–æ—â–∞–¥—å: {{ result.land_area }} —Å–æ—Ç–æ–∫</li>
                    <li>–¶–µ–Ω–∞ –∑–∞ —Å–æ—Ç–∫—É: {{ result.price_per_sotka }} ‚Ç¨</li>
                </ul>
            {% elif result.category == "commercial" %}
                <ul>
                    <li>–†–∞–π–æ–Ω: {{ result.district }}</li>
                    <li>–¢–∏–ø: {{ result.object_type }}</li>
                    <li>–ü–ª–æ—â–∞–¥—å: {{ result.object_area }} –º¬≤</li>
                    <li>–¶–µ–Ω–∞ –∑–∞ –º¬≤: {{ result.price_per_m2 }} ‚Ç¨</li>
                </ul>
            {% endif %}
        {% else %}
            <p style="color:#777;">‚ö†Ô∏è –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å¬ª</p>
        {% endif %}
    </section>
</main>

<script>
    function showForm() {
        document.getElementById("apartment-form").style.display = "none";
        document.getElementById("land-form").style.display = "none";
        document.getElementById("commercial-form").style.display = "none";

        let category = document.getElementById("category").value;
        if (category === "apartment") {
            document.getElementById("apartment-form").style.display = "block";
        } else if (category === "land") {
            document.getElementById("land-form").style.display = "block";
        } else if (category === "commercial") {
            document.getElementById("commercial-form").style.display = "block";
        }
    }
</script>
</body>
</html>
